[{"id":"e7e3e94f.80a2a8","type":"tab","label":"Hello world","disabled":false,"info":""},{"id":"79072f33.44b96","type":"tab","label":"Openweathermap","disabled":false,"info":""},{"id":"4db1754e.0eb8f4","type":"tab","label":"Xiaomi Temperature","disabled":false,"info":""},{"id":"8477eefe.d7ad7","type":"tab","label":"Function vs Subflow","disabled":false,"info":""},{"id":"2f1f7a6e.4bfd56","type":"subflow","name":"zero checker","info":"","category":"","in":[{"x":100,"y":140,"wires":[{"id":"7ca2e853.b132"}]}],"out":[{"x":740,"y":140,"wires":[{"id":"1a308f21.f04839","port":0},{"id":"354723ee.2b1cbc","port":0}]}]},{"id":"f96bd279.d85e","type":"inject","z":"e7e3e94f.80a2a8","name":"","topic":"","payload":"Hello world!","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":150,"y":180,"wires":[["f0f070de.ff8cf"]]},{"id":"f0f070de.ff8cf","type":"debug","z":"e7e3e94f.80a2a8","name":"print payload","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":370,"y":180,"wires":[]},{"id":"9575d1e4.5ec368","type":"comment","z":"e7e3e94f.80a2a8","name":"Print \"Hello world\"!","info":"","x":170,"y":100,"wires":[]},{"id":"8a695c37.7d2dc8","type":"inject","z":"79072f33.44b96","name":"Run","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":180,"wires":[["167b6e.c17aec92"]]},{"id":"b6851c8d.8beb","type":"debug","z":"79072f33.44b96","name":"print weather","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.weather","x":650,"y":180,"wires":[]},{"id":"bfd8cf6f.88b128","type":"comment","z":"79072f33.44b96","name":"Get the weather in Bilbao from Openweathermap and print it","info":"","x":300,"y":100,"wires":[]},{"id":"167b6e.c17aec92","type":"openweathermap","z":"79072f33.44b96","name":"Get weather info from Bilbao","wtype":"current","lon":"","lat":"","city":"Bilbao","country":"Spain","language":"en","x":380,"y":180,"wires":[["b6851c8d.8beb"]]},{"id":"17a020a4.fe30a7","type":"inject","z":"4db1754e.0eb8f4","name":"Run","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":180,"wires":[["8238b973.7a8a2"]]},{"id":"f3303066.aaefa","type":"debug","z":"4db1754e.0eb8f4","name":"print temperature","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.temperature","x":590,"y":180,"wires":[]},{"id":"6857be98.a947c","type":"comment","z":"4db1754e.0eb8f4","name":"Get temperature from Xiaomi sensor and print it","info":"","x":260,"y":100,"wires":[]},{"id":"8238b973.7a8a2","type":"Xiaomi BLE","z":"4db1754e.0eb8f4","name":"Get sensor info","address":"4C:65:A8:D0:63:35","scanningTimeout":"10","x":340,"y":180,"wires":[["f3303066.aaefa"]]},{"id":"83159f4e.9387a","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":180,"wires":[["a059e1e8.e459d"]]},{"id":"55c0e5f3.592924","type":"comment","z":"8477eefe.d7ad7","name":"Not the Node-Red way!","info":"","x":180,"y":100,"wires":[]},{"id":"c3cd017a.d322","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"1","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":260,"wires":[["a059e1e8.e459d"]]},{"id":"a059e1e8.e459d","type":"function","z":"8477eefe.d7ad7","name":"is zero?","func":"if(msg.payload == 0) {\n    msg.payload = \"It's zero\";\n} else {\n    msg.payload = \"It's not zero\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":320,"y":220,"wires":[["e734e150.512b"]]},{"id":"e734e150.512b","type":"debug","z":"8477eefe.d7ad7","name":"print diagnostic","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":540,"y":220,"wires":[]},{"id":"5f7bcfa5.663148","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":460,"wires":[["c78693f7.ddd78"]]},{"id":"ed311585.3e9918","type":"comment","z":"8477eefe.d7ad7","name":"The Node-Red way :)","info":"","x":180,"y":380,"wires":[]},{"id":"7c32a679.bab56","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"1","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":540,"wires":[["c78693f7.ddd78"]]},{"id":"195c3c19.145bdc","type":"debug","z":"8477eefe.d7ad7","name":"print diagnostic","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":860,"y":500,"wires":[]},{"id":"c78693f7.ddd78","type":"switch","z":"8477eefe.d7ad7","name":"is zero?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":320,"y":500,"wires":[["521329a7.7a92e"],["8147a6e7.f56d78"]]},{"id":"521329a7.7a92e","type":"change","z":"8477eefe.d7ad7","name":"set the message for zero","rules":[{"t":"set","p":"payload","pt":"msg","to":"It's zero","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":460,"wires":[["195c3c19.145bdc"]]},{"id":"8147a6e7.f56d78","type":"change","z":"8477eefe.d7ad7","name":"set the alternate message","rules":[{"t":"set","p":"payload","pt":"msg","to":"It's not zero","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":540,"wires":[["195c3c19.145bdc"]]},{"id":"2215d783.2cd108","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"0","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":740,"wires":[["800be9e8.e351c8"]]},{"id":"7b0dc32a.75ad94","type":"comment","z":"8477eefe.d7ad7","name":"Using a subflow","info":"","x":160,"y":660,"wires":[]},{"id":"9f60a128.6c02a8","type":"inject","z":"8477eefe.d7ad7","name":"","topic":"","payload":"1","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":820,"wires":[["800be9e8.e351c8"]]},{"id":"4a8a2037.d477d","type":"debug","z":"8477eefe.d7ad7","name":"print diagnostic","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":560,"y":780,"wires":[]},{"id":"7ca2e853.b132","type":"switch","z":"2f1f7a6e.4bfd56","name":"is zero?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":240,"y":140,"wires":[["1a308f21.f04839"],["354723ee.2b1cbc"]]},{"id":"1a308f21.f04839","type":"change","z":"2f1f7a6e.4bfd56","name":"set the message for zero","rules":[{"t":"set","p":"payload","pt":"msg","to":"It's zero","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":100,"wires":[[]]},{"id":"354723ee.2b1cbc","type":"change","z":"2f1f7a6e.4bfd56","name":"set the alternate message","rules":[{"t":"set","p":"payload","pt":"msg","to":"It's not zero","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":500,"y":180,"wires":[[]]},{"id":"800be9e8.e351c8","type":"subflow:2f1f7a6e.4bfd56","z":"8477eefe.d7ad7","name":"zero checker","x":330,"y":780,"wires":[["4a8a2037.d477d"]]}]